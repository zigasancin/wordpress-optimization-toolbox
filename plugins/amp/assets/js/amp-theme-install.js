!function(){"use strict";var e={n:function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,{a:n}),n},d:function(t,n){for(var i in n)e.o(n,i)&&!e.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:n[i]})},o:function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}},t=ampThemes,n=window.wp.i18n,i=window.wp.domReady,r=e.n(i);const s=wp.themes.view.Theme;var a=s.extend({isAmpCompatibleTab(){return new URLSearchParams(window.location.search.substr(1)).get("browse")===t.AMP_COMPATIBLE},render(...e){if(s.prototype.render.apply(this,e),0>=this.$el?.length||!this.$el[0])return;const t=this.$el[0],i=this.model.toJSON();let r=i?.slug;if(r||(r=i?.id),r&&this.isAmpTheme(r)&&setTimeout((()=>{if(this.isAmpCompatibleTab())return;const e=document.createElement("div"),i=document.createElement("span"),r=document.createElement("span");e.classList.add("amp-extension-card-message"),i.classList.add("amp-logo-icon"),r.classList.add("tooltiptext"),r.append((0,n.__)("This is known to work well with the AMP plugin.","amp")),e.append(i,r),t.appendChild(e)})),r&&!this.isWPORGTheme(r)){const e=document.createElement("span");e.classList.add("dashicons","dashicons-external"),e.setAttribute("aria-hidden","true");const r=document.createElement("span");r.classList.add("screen-reader-text"),r.append((0,n.__)("(opens in a new tab)","amp"));const s=document.createElement("a");s.classList.add("button","button-primary"),s.append((0,n.__)("Visit Site","amp"),r,e),s.href=i?.preview_url?i.preview_url:i.homepage,s.target="_blank",s.rel="noopener noreferrer",s.setAttribute("aria-label",(0,n.sprintf)(/* translators: %s: theme name. */
(0,n.__)("Visit site of %s theme","amp"),i.name));const a=t.querySelector(".theme-actions");a&&(a.textContent="",a.append(s));const o=t.querySelector(".more-details");o&&(o.textContent="",o.append((0,n.__)("Visit Site","amp"),e.cloneNode(!0)))}},preview(...e){const t=this.model.toJSON();this.isWPORGTheme(t.slug)?s.prototype.preview.apply(this,e):t?.preview_url&&window.open(t.preview_url,"_blank","noopener,noreferrer")},isAmpTheme(e){return t.AMP_THEMES.includes(e)},isWPORGTheme(e){return!t.NONE_WPORG_THEMES.includes(e)}});const o={init(){this.addTab(),this.overrideViews()},addTab(){const e=document.querySelector(".filter-links");if(!e)return;const i=document.createElement("li"),r=document.createElement("a");r.setAttribute("href","#"),r.setAttribute("data-sort",t.AMP_COMPATIBLE),r.append((0,n.__)("AMP Compatible","amp")),i.appendChild(r),e.appendChild(i)},overrideViews(){wp.themes.view.Theme=a}};r()((()=>{o.init()}))}();