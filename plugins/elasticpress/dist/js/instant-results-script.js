!function(){"use strict";var e={4708:function(e,t,n){function r(e){return r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r(e)}var a,s;function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,p(r.key),r)}}function i(e,t,n){return t=l(t),function(e,t){if(t&&("object"==r(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,c()?Reflect.construct(t,n||[],l(e).constructor):t.apply(e,n))}function c(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(c=function(){return!!e})()}function l(e){return l=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},l(e)}function u(e,t){return u=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},u(e,t)}function p(e){var t=function(e,t){if("object"!=r(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var a=n.call(e,t||"default");if("object"!=r(a))return a;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==r(t)?t:t+""}var d=n(1609),f=n(2697).createFocusTrap,h=n(9054).isFocusable,m=parseInt(null!==(a=null===(s=/^(\d+)\./.exec(d.version))||void 0===s?void 0:s[1])&&void 0!==a?a:0,10),v=function(e){function t(e){var n;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t,n){(t=p(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n}(n=i(this,t,[e]),"getNodeForOption",(function(e){var t,n=null!==(t=this.internalOptions[e])&&void 0!==t?t:this.originalOptions[e];if("function"===typeof n){for(var r=arguments.length,a=new Array(r>1?r-1:0),s=1;s<r;s++)a[s-1]=arguments[s];n=n.apply(void 0,a)}if(!0===n&&(n=void 0),!n){if(void 0===n||!1===n)return n;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var o,i=n;if("string"===typeof n&&!(i=null===(o=this.getDocument())||void 0===o?void 0:o.querySelector(n)))throw new Error("`".concat(e,"` as selector refers to no known node"));return i})),n.handleDeactivate=n.handleDeactivate.bind(n),n.handlePostDeactivate=n.handlePostDeactivate.bind(n),n.handleClickOutsideDeactivates=n.handleClickOutsideDeactivates.bind(n),n.internalOptions={returnFocusOnDeactivate:!1,checkCanReturnFocus:null,onDeactivate:n.handleDeactivate,onPostDeactivate:n.handlePostDeactivate,clickOutsideDeactivates:n.handleClickOutsideDeactivates},n.originalOptions={returnFocusOnDeactivate:!0,onDeactivate:null,onPostDeactivate:null,checkCanReturnFocus:null,clickOutsideDeactivates:!1};var r=e.focusTrapOptions;for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&("returnFocusOnDeactivate"!==a&&"onDeactivate"!==a&&"onPostDeactivate"!==a&&"checkCanReturnFocus"!==a&&"clickOutsideDeactivates"!==a?n.internalOptions[a]=r[a]:n.originalOptions[a]=r[a]);return n.outsideClick=null,n.focusTrapElements=e.containerElements||[],n.updatePreviousElement(),n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&u(e,t)}(t,e),function(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}(t,[{key:"getDocument",value:function(){return this.props.focusTrapOptions.document||("undefined"!==typeof document?document:void 0)}},{key:"getReturnFocusNode",value:function(){var e=this.getNodeForOption("setReturnFocus",this.previouslyFocusedElement);return e||!1!==e&&this.previouslyFocusedElement}},{key:"updatePreviousElement",value:function(){var e=this.getDocument();e&&(this.previouslyFocusedElement=e.activeElement)}},{key:"deactivateTrap",value:function(){this.focusTrap&&this.focusTrap.active&&this.focusTrap.deactivate({returnFocus:!1,checkCanReturnFocus:null,onDeactivate:this.originalOptions.onDeactivate})}},{key:"handleClickOutsideDeactivates",value:function(e){var t="function"===typeof this.originalOptions.clickOutsideDeactivates?this.originalOptions.clickOutsideDeactivates.call(null,e):this.originalOptions.clickOutsideDeactivates;return t&&(this.outsideClick={target:e.target,allowDeactivation:t}),t}},{key:"handleDeactivate",value:function(){this.originalOptions.onDeactivate&&this.originalOptions.onDeactivate.call(null),this.deactivateTrap()}},{key:"handlePostDeactivate",value:function(){var e=this,t=function(){var t=e.getReturnFocusNode(),n=!(!e.originalOptions.returnFocusOnDeactivate||null===t||void 0===t||!t.focus||e.outsideClick&&(!e.outsideClick.allowDeactivation||h(e.outsideClick.target,e.internalOptions.tabbableOptions))),r=e.internalOptions.preventScroll,a=void 0!==r&&r;n&&t.focus({preventScroll:a}),e.originalOptions.onPostDeactivate&&e.originalOptions.onPostDeactivate.call(null),e.outsideClick=null};this.originalOptions.checkCanReturnFocus?this.originalOptions.checkCanReturnFocus.call(null,this.getReturnFocusNode()).then(t,t):t()}},{key:"setupFocusTrap",value:function(){this.focusTrap?this.props.active&&!this.focusTrap.active&&(this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause()):this.focusTrapElements.some(Boolean)&&(this.focusTrap=this.props._createFocusTrap(this.focusTrapElements,this.internalOptions),this.props.active&&this.focusTrap.activate(),this.props.paused&&this.focusTrap.pause())}},{key:"componentDidMount",value:function(){this.props.active&&this.setupFocusTrap()}},{key:"componentDidUpdate",value:function(e){if(this.focusTrap){e.containerElements!==this.props.containerElements&&this.focusTrap.updateContainerElements(this.props.containerElements);var t=!e.active&&this.props.active,n=e.active&&!this.props.active,r=!e.paused&&this.props.paused,a=e.paused&&!this.props.paused;if(t&&(this.updatePreviousElement(),this.focusTrap.activate()),n)return void this.deactivateTrap();r&&this.focusTrap.pause(),a&&this.focusTrap.unpause()}else e.containerElements!==this.props.containerElements&&(this.focusTrapElements=this.props.containerElements),this.props.active&&(this.updatePreviousElement(),this.setupFocusTrap())}},{key:"componentWillUnmount",value:function(){this.deactivateTrap()}},{key:"render",value:function(){var e=this,t=this.props.children?d.Children.only(this.props.children):void 0;if(t){if(t.type&&t.type===d.Fragment)throw new Error("A focus-trap cannot use a Fragment as its child container. Try replacing it with a <div> element.");return d.cloneElement(t,{ref:function(n){var r=e.props.containerElements;t&&(m>=19?"function"===typeof t.props.ref?t.props.ref(n):t.props.ref&&(t.props.ref.current=n):"function"===typeof t.ref?t.ref(n):t.ref&&(t.ref.current=n)),e.focusTrapElements=r||[n]}})}return null}}])}(d.Component);v.defaultProps={active:!0,paused:!1,focusTrapOptions:{},_createFocusTrap:f},e.exports=v,e.exports.FocusTrap=v},2697:function(e,t,n){n.r(t),n.d(t,{createFocusTrap:function(){return g}});var r=n(9054);function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=typeof e||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==typeof t?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?o(Object(n),!0).forEach((function(t){s(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):o(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function c(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}var l=function(e,t){if(e.length>0){var n=e[e.length-1];n!==t&&n._setPausedState(!0)}var r=e.indexOf(t);-1===r||e.splice(r,1),e.push(t)},u=function(e,t){var n=e.indexOf(t);-1!==n&&e.splice(n,1),e.length>0&&!e[e.length-1]._isManuallyPaused()&&e[e.length-1]._setPausedState(!1)},p=function(e){return"Tab"===(null===e||void 0===e?void 0:e.key)||9===(null===e||void 0===e?void 0:e.keyCode)},d=function(e){return p(e)&&!e.shiftKey},f=function(e){return p(e)&&e.shiftKey},h=function(e){return setTimeout(e,0)},m=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return"function"===typeof e?e.apply(void 0,n):e},v=function(e){return e.target.shadowRoot&&"function"===typeof e.composedPath?e.composedPath()[0]:e.target},b=[],g=function(e,t){var n,a=(null===t||void 0===t?void 0:t.document)||document,s=(null===t||void 0===t?void 0:t.trapStack)||b,o=i({returnFocusOnDeactivate:!0,escapeDeactivates:!0,delayInitialFocus:!0,isKeyForward:d,isKeyBackward:f},t),g={containers:[],containerGroups:[],tabbableGroups:[],nodeFocusedBeforeActivation:null,mostRecentlyFocusedNode:null,active:!1,paused:!1,manuallyPaused:!1,delayInitialFocusTimer:void 0,recentNavEvent:void 0},y=function(e,t,n){return e&&void 0!==e[t]?e[t]:o[n||t]},E=function(e,t){var n="function"===typeof(null===t||void 0===t?void 0:t.composedPath)?t.composedPath():void 0;return g.containerGroups.findIndex((function(t){var r=t.container,a=t.tabbableNodes;return r.contains(e)||(null===n||void 0===n?void 0:n.includes(r))||a.find((function(t){return t===e}))}))},w=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasFallback,r=void 0!==n&&n,s=t.params,i=void 0===s?[]:s,l=o[e];if("function"===typeof l&&(l=l.apply(void 0,c(i))),!0===l&&(l=void 0),!l){if(void 0===l||!1===l)return l;throw new Error("`".concat(e,"` was specified but was not a node, or did not return a node"))}var u=l;if("string"===typeof l){try{u=a.querySelector(l)}catch(t){throw new Error("`".concat(e,'` appears to be an invalid selector; error="').concat(t.message,'"'))}if(!u&&!r)throw new Error("`".concat(e,"` as selector refers to no known node"))}return u},R=function(){var e=w("initialFocus",{hasFallback:!0});if(!1===e)return!1;if(void 0===e||e&&!(0,r.isFocusable)(e,o.tabbableOptions))if(E(a.activeElement)>=0)e=a.activeElement;else{var t=g.tabbableGroups[0];e=t&&t.firstTabbableNode||w("fallbackFocus")}else null===e&&(e=w("fallbackFocus"));if(!e)throw new Error("Your focus-trap needs to have at least one focusable element");return e},_=function(){if(g.containerGroups=g.containers.map((function(e){var t=(0,r.tabbable)(e,o.tabbableOptions),n=(0,r.focusable)(e,o.tabbableOptions),a=t.length>0?t[0]:void 0,s=t.length>0?t[t.length-1]:void 0,i=n.find((function(e){return(0,r.isTabbable)(e)})),c=n.slice().reverse().find((function(e){return(0,r.isTabbable)(e)})),l=!!t.find((function(e){return(0,r.getTabIndex)(e)>0}));return{container:e,tabbableNodes:t,focusableNodes:n,posTabIndexesFound:l,firstTabbableNode:a,lastTabbableNode:s,firstDomTabbableNode:i,lastDomTabbableNode:c,nextTabbableNode:function(e){var a=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],s=t.indexOf(e);return s<0?a?n.slice(n.indexOf(e)+1).find((function(e){return(0,r.isTabbable)(e)})):n.slice(0,n.indexOf(e)).reverse().find((function(e){return(0,r.isTabbable)(e)})):t[s+(a?1:-1)]}}})),g.tabbableGroups=g.containerGroups.filter((function(e){return e.tabbableNodes.length>0})),g.tabbableGroups.length<=0&&!w("fallbackFocus"))throw new Error("Your focus-trap must have at least one container with at least one tabbable node in it at all times");if(g.containerGroups.find((function(e){return e.posTabIndexesFound}))&&g.containerGroups.length>1)throw new Error("At least one node with a positive tabindex was found in one of your focus-trap's multiple containers. Positive tabindexes are only supported in single-container focus-traps.")},O=function(e){var t=e.activeElement;if(t)return t.shadowRoot&&null!==t.shadowRoot.activeElement?O(t.shadowRoot):t},k=function(e){!1!==e&&e!==O(document)&&(e&&e.focus?(e.focus({preventScroll:!!o.preventScroll}),g.mostRecentlyFocusedNode=e,function(e){return e.tagName&&"input"===e.tagName.toLowerCase()&&"function"===typeof e.select}(e)&&e.select()):k(R()))},S=function(e){var t=w("setReturnFocus",{params:[e]});return t||!1!==t&&e},T=function(e){var t=e.target,n=e.event,a=e.isBackward,s=void 0!==a&&a;t=t||v(n),_();var i=null;if(g.tabbableGroups.length>0){var c=E(t,n),l=c>=0?g.containerGroups[c]:void 0;if(c<0)i=s?g.tabbableGroups[g.tabbableGroups.length-1].lastTabbableNode:g.tabbableGroups[0].firstTabbableNode;else if(s){var u=g.tabbableGroups.findIndex((function(e){var n=e.firstTabbableNode;return t===n}));if(u<0&&(l.container===t||(0,r.isFocusable)(t,o.tabbableOptions)&&!(0,r.isTabbable)(t,o.tabbableOptions)&&!l.nextTabbableNode(t,!1))&&(u=c),u>=0){var d=0===u?g.tabbableGroups.length-1:u-1,f=g.tabbableGroups[d];i=(0,r.getTabIndex)(t)>=0?f.lastTabbableNode:f.lastDomTabbableNode}else p(n)||(i=l.nextTabbableNode(t,!1))}else{var h=g.tabbableGroups.findIndex((function(e){var n=e.lastTabbableNode;return t===n}));if(h<0&&(l.container===t||(0,r.isFocusable)(t,o.tabbableOptions)&&!(0,r.isTabbable)(t,o.tabbableOptions)&&!l.nextTabbableNode(t))&&(h=c),h>=0){var m=h===g.tabbableGroups.length-1?0:h+1,b=g.tabbableGroups[m];i=(0,r.getTabIndex)(t)>=0?b.firstTabbableNode:b.firstDomTabbableNode}else p(n)||(i=l.nextTabbableNode(t))}}else i=w("fallbackFocus");return i},P=function(e){var t=v(e);E(t,e)>=0||(m(o.clickOutsideDeactivates,e)?n.deactivate({returnFocus:o.returnFocusOnDeactivate}):m(o.allowOutsideClick,e)||e.preventDefault())},N=function(e){var t=v(e),n=E(t,e)>=0;if(n||t instanceof Document)n&&(g.mostRecentlyFocusedNode=t);else{var a;e.stopImmediatePropagation();var s=!0;if(g.mostRecentlyFocusedNode)if((0,r.getTabIndex)(g.mostRecentlyFocusedNode)>0){var i=E(g.mostRecentlyFocusedNode),c=g.containerGroups[i].tabbableNodes;if(c.length>0){var l=c.findIndex((function(e){return e===g.mostRecentlyFocusedNode}));l>=0&&(o.isKeyForward(g.recentNavEvent)?l+1<c.length&&(a=c[l+1],s=!1):l-1>=0&&(a=c[l-1],s=!1))}}else g.containerGroups.some((function(e){return e.tabbableNodes.some((function(e){return(0,r.getTabIndex)(e)>0}))}))||(s=!1);else s=!1;s&&(a=T({target:g.mostRecentlyFocusedNode,isBackward:o.isKeyBackward(g.recentNavEvent)})),k(a||(g.mostRecentlyFocusedNode||R()))}g.recentNavEvent=void 0},x=function(e){(o.isKeyForward(e)||o.isKeyBackward(e))&&function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];g.recentNavEvent=e;var n=T({event:e,isBackward:t});n&&(p(e)&&e.preventDefault(),k(n))}(e,o.isKeyBackward(e))},C=function(e){var t;"Escape"!==(null===(t=e)||void 0===t?void 0:t.key)&&"Esc"!==(null===t||void 0===t?void 0:t.key)&&27!==(null===t||void 0===t?void 0:t.keyCode)||!1===m(o.escapeDeactivates,e)||(e.preventDefault(),n.deactivate())},D=function(e){var t=v(e);E(t,e)>=0||m(o.clickOutsideDeactivates,e)||m(o.allowOutsideClick,e)||(e.preventDefault(),e.stopImmediatePropagation())},F=function(){if(g.active)return l(s,n),g.delayInitialFocusTimer=o.delayInitialFocus?h((function(){k(R())})):k(R()),a.addEventListener("focusin",N,!0),a.addEventListener("mousedown",P,{capture:!0,passive:!1}),a.addEventListener("touchstart",P,{capture:!0,passive:!1}),a.addEventListener("click",D,{capture:!0,passive:!1}),a.addEventListener("keydown",x,{capture:!0,passive:!1}),a.addEventListener("keydown",C),n},M=function(){if(g.active)return a.removeEventListener("focusin",N,!0),a.removeEventListener("mousedown",P,!0),a.removeEventListener("touchstart",P,!0),a.removeEventListener("click",D,!0),a.removeEventListener("keydown",x,!0),a.removeEventListener("keydown",C),n},I="undefined"!==typeof window&&"MutationObserver"in window?new MutationObserver((function(e){e.some((function(e){return Array.from(e.removedNodes).some((function(e){return e===g.mostRecentlyFocusedNode}))}))&&k(R())})):void 0,L=function(){I&&(I.disconnect(),g.active&&!g.paused&&g.containers.map((function(e){I.observe(e,{subtree:!0,childList:!0})})))};return n={get active(){return g.active},get paused(){return g.paused},activate:function(e){if(g.active)return this;var t=y(e,"onActivate"),n=y(e,"onPostActivate"),r=y(e,"checkCanFocusTrap");r||_(),g.active=!0,g.paused=!1,g.nodeFocusedBeforeActivation=a.activeElement,null===t||void 0===t||t();var s=function(){r&&_(),F(),L(),null===n||void 0===n||n()};return r?(r(g.containers.concat()).then(s,s),this):(s(),this)},deactivate:function(e){if(!g.active)return this;var t=i({onDeactivate:o.onDeactivate,onPostDeactivate:o.onPostDeactivate,checkCanReturnFocus:o.checkCanReturnFocus},e);clearTimeout(g.delayInitialFocusTimer),g.delayInitialFocusTimer=void 0,M(),g.active=!1,g.paused=!1,L(),u(s,n);var r=y(t,"onDeactivate"),a=y(t,"onPostDeactivate"),c=y(t,"checkCanReturnFocus"),l=y(t,"returnFocus","returnFocusOnDeactivate");null===r||void 0===r||r();var p=function(){h((function(){l&&k(S(g.nodeFocusedBeforeActivation)),null===a||void 0===a||a()}))};return l&&c?(c(S(g.nodeFocusedBeforeActivation)).then(p,p),this):(p(),this)},pause:function(e){return g.active?(g.manuallyPaused=!0,this._setPausedState(!0,e)):this},unpause:function(e){return g.active?(g.manuallyPaused=!1,s[s.length-1]!==this?this:this._setPausedState(!1,e)):this},updateContainerElements:function(e){var t=[].concat(e).filter(Boolean);return g.containers=t.map((function(e){return"string"===typeof e?a.querySelector(e):e})),g.active&&_(),L(),this}},Object.defineProperties(n,{_isManuallyPaused:{value:function(){return g.manuallyPaused}},_setPausedState:{value:function(e,t){if(g.paused===e)return this;if(g.paused=e,e){var n=y(t,"onPause"),r=y(t,"onPostPause");null===n||void 0===n||n(),M(),L(),null===r||void 0===r||r()}else{var a=y(t,"onUnpause"),s=y(t,"onPostUnpause");null===a||void 0===a||a(),_(),F(),L(),null===s||void 0===s||s()}return this}}}),n.updateContainerElements(e),n}},1020:function(e,t,n){var r=n(1609),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function l(e,t,n){var r,s={},l=null,u=null;for(r in void 0!==n&&(l=""+n),void 0!==t.key&&(l=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,r)&&!c.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:l,ref:u,props:s,_owner:i.current}}t.jsx=l},4848:function(e,t,n){e.exports=n(1020)},9054:function(e,t,n){n.r(t),n.d(t,{focusable:function(){return _},getTabIndex:function(){return d},isFocusable:function(){return S},isTabbable:function(){return O},tabbable:function(){return R}});var r=["input:not([inert])","select:not([inert])","textarea:not([inert])","a[href]:not([inert])","button:not([inert])","[tabindex]:not(slot):not([inert])","audio[controls]:not([inert])","video[controls]:not([inert])",'[contenteditable]:not([contenteditable="false"]):not([inert])',"details>summary:first-of-type:not([inert])","details:not([inert])"],a=r.join(","),s="undefined"===typeof Element,o=s?function(){}:Element.prototype.matches||Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector,i=!s&&Element.prototype.getRootNode?function(e){var t;return null===e||void 0===e||null===(t=e.getRootNode)||void 0===t?void 0:t.call(e)}:function(e){return null===e||void 0===e?void 0:e.ownerDocument},c=function e(t,n){var r;void 0===n&&(n=!0);var a=null===t||void 0===t||null===(r=t.getAttribute)||void 0===r?void 0:r.call(t,"inert");return""===a||"true"===a||n&&t&&e(t.parentNode)},l=function(e,t,n){if(c(e))return[];var r=Array.prototype.slice.apply(e.querySelectorAll(a));return t&&o.call(e,a)&&r.unshift(e),r=r.filter(n)},u=function e(t,n,r){for(var s=[],i=Array.from(t);i.length;){var l=i.shift();if(!c(l,!1))if("SLOT"===l.tagName){var u=l.assignedElements(),p=e(u.length?u:l.children,!0,r);r.flatten?s.push.apply(s,p):s.push({scopeParent:l,candidates:p})}else{o.call(l,a)&&r.filter(l)&&(n||!t.includes(l))&&s.push(l);var d=l.shadowRoot||"function"===typeof r.getShadowRoot&&r.getShadowRoot(l),f=!c(d,!1)&&(!r.shadowRootFilter||r.shadowRootFilter(l));if(d&&f){var h=e(!0===d?l.children:d.children,!0,r);r.flatten?s.push.apply(s,h):s.push({scopeParent:l,candidates:h})}else i.unshift.apply(i,l.children)}}return s},p=function(e){return!isNaN(parseInt(e.getAttribute("tabindex"),10))},d=function(e){if(!e)throw new Error("No node provided");return e.tabIndex<0&&(/^(AUDIO|VIDEO|DETAILS)$/.test(e.tagName)||function(e){var t,n=null===e||void 0===e||null===(t=e.getAttribute)||void 0===t?void 0:t.call(e,"contenteditable");return""===n||"true"===n}(e))&&!p(e)?0:e.tabIndex},f=function(e,t){return e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex},h=function(e){return"INPUT"===e.tagName},m=function(e){return function(e){return h(e)&&"radio"===e.type}(e)&&!function(e){if(!e.name)return!0;var t,n=e.form||i(e),r=function(e){return n.querySelectorAll('input[type="radio"][name="'+e+'"]')};if("undefined"!==typeof window&&"undefined"!==typeof window.CSS&&"function"===typeof window.CSS.escape)t=r(window.CSS.escape(e.name));else try{t=r(e.name)}catch(e){return console.error("Looks like you have a radio button with a name attribute containing invalid CSS selector characters and need the CSS.escape polyfill: %s",e.message),!1}var a=function(e,t){for(var n=0;n<e.length;n++)if(e[n].checked&&e[n].form===t)return e[n]}(t,e.form);return!a||a===e}(e)},v=function(e){var t=e.getBoundingClientRect(),n=t.width,r=t.height;return 0===n&&0===r},b=function(e,t){var n=t.displayCheck,r=t.getShadowRoot;if("hidden"===getComputedStyle(e).visibility)return!0;var a=o.call(e,"details>summary:first-of-type")?e.parentElement:e;if(o.call(a,"details:not([open]) *"))return!0;if(n&&"full"!==n&&"legacy-full"!==n){if("non-zero-area"===n)return v(e)}else{if("function"===typeof r){for(var s=e;e;){var c=e.parentElement,l=i(e);if(c&&!c.shadowRoot&&!0===r(c))return v(e);e=e.assignedSlot?e.assignedSlot:c||l===e.ownerDocument?c:l.host}e=s}if(function(e){var t,n,r,a,s=e&&i(e),o=null===(t=s)||void 0===t?void 0:t.host,c=!1;if(s&&s!==e)for(c=!!(null!==(n=o)&&void 0!==n&&null!==(r=n.ownerDocument)&&void 0!==r&&r.contains(o)||null!==e&&void 0!==e&&null!==(a=e.ownerDocument)&&void 0!==a&&a.contains(e));!c&&o;){var l,u,p;c=!(null===(u=o=null===(l=s=i(o))||void 0===l?void 0:l.host)||void 0===u||null===(p=u.ownerDocument)||void 0===p||!p.contains(o))}return c}(e))return!e.getClientRects().length;if("legacy-full"!==n)return!0}return!1},g=function(e,t){return!(t.disabled||c(t)||function(e){return h(e)&&"hidden"===e.type}(t)||b(t,e)||function(e){return"DETAILS"===e.tagName&&Array.prototype.slice.apply(e.children).some((function(e){return"SUMMARY"===e.tagName}))}(t)||function(e){if(/^(INPUT|BUTTON|SELECT|TEXTAREA)$/.test(e.tagName))for(var t=e.parentElement;t;){if("FIELDSET"===t.tagName&&t.disabled){for(var n=0;n<t.children.length;n++){var r=t.children.item(n);if("LEGEND"===r.tagName)return!!o.call(t,"fieldset[disabled] *")||!r.contains(e)}return!0}t=t.parentElement}return!1}(t))},y=function(e,t){return!(m(t)||d(t)<0||!g(e,t))},E=function(e){var t=parseInt(e.getAttribute("tabindex"),10);return!!(isNaN(t)||t>=0)},w=function e(t){var n=[],r=[];return t.forEach((function(t,a){var s=!!t.scopeParent,o=s?t.scopeParent:t,i=function(e,t){var n=d(e);return n<0&&t&&!p(e)?0:n}(o,s),c=s?e(t.candidates):o;0===i?s?n.push.apply(n,c):n.push(o):r.push({documentOrder:a,tabIndex:i,item:t,isScope:s,content:c})})),r.sort(f).reduce((function(e,t){return t.isScope?e.push.apply(e,t.content):e.push(t.content),e}),[]).concat(n)},R=function(e,t){var n;return n=(t=t||{}).getShadowRoot?u([e],t.includeContainer,{filter:y.bind(null,t),flatten:!1,getShadowRoot:t.getShadowRoot,shadowRootFilter:E}):l(e,t.includeContainer,y.bind(null,t)),w(n)},_=function(e,t){return(t=t||{}).getShadowRoot?u([e],t.includeContainer,{filter:g.bind(null,t),flatten:!0,getShadowRoot:t.getShadowRoot}):l(e,t.includeContainer,g.bind(null,t))},O=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==o.call(e,a)&&y(t,e)},k=r.concat("iframe").join(","),S=function(e,t){if(t=t||{},!e)throw new Error("No node provided");return!1!==o.call(e,k)&&g(t,e)}},1609:function(e){e.exports=window.React}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r=window.wp.element,a=window.wp.i18n,s=window.wp.hooks;var o={randomUUID:"undefined"!==typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};let i;const c=new Uint8Array(16);const l=[];for(let e=0;e<256;++e)l.push((e+256).toString(16).slice(1));function u(e,t=0){return(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase()}var p=function(e,t,n){if(o.randomUUID&&!t&&!e)return o.randomUUID();const r=(e=e||{}).random??e.rng?.()??function(){if(!i){if("undefined"===typeof crypto||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");i=crypto.getRandomValues.bind(crypto)}return i(c)}();if(r.length<16)throw new Error("Random bytes length must be >= 16");if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){if((n=n||0)<0||n+16>t.length)throw new RangeError(`UUID byte range ${n}:${n+15} is out of buffer bounds`);for(let e=0;e<16;++e)t[n+e]=r[e];return t}return u(r)};const d=e=>e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"),f=(e,t,n,o,i="")=>{const c=(0,r.useRef)(new AbortController),l=(0,r.useRef)(null),u=(0,r.useRef)(o);return(0,r.useCallback)((async r=>{const o=`${e}${t}?${r.toString()}`;c.current.abort(),c.current=new AbortController;const d={Accept:"application/json",Authorization:n},f=(e=>{const t=p().replaceAll("-","");return(0,s.applyFilters)("ep.requestId",e+t)})(i);return f&&(d["X-ElasticPress-Request-ID"]=f),l.current=fetch(o,{signal:c.current.signal,headers:d}).then((e=>{if(!e.ok){if(401===e.status&&u.current)return u.current(),"";throw new Error((0,a.sprintf)((0,a.__)("HTTP %d.","elasticpress"),e.status))}return e.json()})).catch((e=>{if("AbortError"!==e?.name)throw e})).finally((()=>{l.current=null})),l.current}),[e,t,n,i])},h=(e,t,n="")=>{const r=new URLSearchParams;return Object.entries(t).forEach((([t,a])=>{const s=n+t,o="undefined"!==typeof e[t]?((e,t,n=!0)=>{let r=null;switch(e&&t.type){case"number":case"string":r=e;break;case"numbers":case"strings":r=e.join(",")}return t.allowedValues&&(r=t.allowedValues.includes(r)?r:null),n&&null===r&&"undefined"!==typeof t.default&&(r=t.default),r})(e[t],a):null;null!==o&&r.set(s,o)})),r},m=(e,t="")=>{const n=new URLSearchParams(window.location.search);return Object.entries(e).reduce(((e,[r,a])=>{const s=n.get(t+r),o="undefined"!==typeof s?((e,t,n=!0)=>{let r=null;switch(e&&t.type){case"number":r=parseFloat(e,10)||null;break;case"numbers":r=decodeURIComponent(e).split(",").map((e=>parseFloat(e,10))).filter(Boolean);break;case"string":r=e.toString();break;case"strings":r=decodeURIComponent(e).split(",").map((e=>e.toString().trim()))}return t.allowedValues&&(r=t.allowedValues.includes(r)?r:null),n&&null===r&&"undefined"!==typeof t.default&&(r=t.default),r})(s,a,!1):null;return null!==o&&(e[r]=o),e}),{})},v=(e,t)=>{const n=new URL(window.location.href),r=Array.from(n.searchParams.keys());for(const t of r)t.startsWith(e)&&n.searchParams.delete(t);return t&&t.forEach(((e,t)=>{n.searchParams.set(t,e)})),n.toString()},b=(e,t)=>{const n={...e};return Object.entries(t).forEach((([e,t])=>{Object.hasOwnProperty.call(t,"default")||delete n[e]})),n};var g=(e,t)=>{const n={...e,isPoppingState:!1};switch(t.type){case"CLEAR_CONSTRAINTS":{const e=b(n.args,n.argsSchema);n.args=e,n.args.offset=0;break}case"CLEAR_RESULTS":n.aggregations={},n.searchResults=[],n.totalResults=0;break;case"SEARCH":{const{updateDefaults:e,...r}=t.args;n.args={...n.args,...r,offset:0},n.isOn=!0,e&&r.post_type.length&&(n.argsSchema.post_type.default=r.post_type);break}case"SEARCH_FOR":{const e=b(n.args,n.argsSchema);n.args=e,n.args.search=t.searchTerm,n.args.offset=0,n.isOn=!0;break}case"SET_IS_LOADING":n.isLoading=t.isLoading;break;case"TURN_OFF":n.args={...n.args},n.isOn=!1;break;case"SET_RESULTS":{const{hits:{hits:e,total:r},aggregations:a,suggest:s}=t.response;n.isFirstSearch=!1;const o="number"===typeof r?r:r.value;n.aggregations=a,n.searchResults=e,n.searchTerm=n.args.search,n.totalResults=o,n.suggestedTerms=s?.ep_suggestion?.[0]?.options||[];break}case"NEXT_PAGE":n.args.offset+=n.args.per_page;break;case"PREVIOUS_PAGE":n.args.offset=Math.max(n.args.offset-n.args.per_page,0);break;case"POP_STATE":{const{isOn:e,args:r}=t.args;n.args=r,n.isOn=e,n.isPoppingState=!0;break}}return n};const y=(0,r.createContext)(),E=({apiEndpoint:e,apiHost:t,authorization:n,requestIdBase:s,argsSchema:o,children:i,paramPrefix:c,onAuthError:l})=>{const u=(0,r.useMemo)((()=>c?m(o,c):{}),[o,c]),p=(0,r.useMemo)((()=>{const e=(e=>Object.entries(e).reduce(((e,[t,n])=>(Object.hasOwnProperty.call(n,"default")&&(e[t]=n.default),e)),{}))(o);return{...e,...u}}),[o,u]),d=(0,r.useMemo)((()=>Object.keys(u).length>0),[u]),b=f(t,e,n,l,s),[E,w]=(0,r.useReducer)(g,{aggregations:{},args:p,argsSchema:o,isLoading:!1,isOn:d,isPoppingState:!1,searchResults:[],totalResults:0,suggestedTerms:[],isFirstSearch:!0,searchTerm:""}),R=(0,r.useRef)(E);R.current=E;const _=(0,r.useCallback)((()=>{w({type:"CLEAR_CONSTRAINTS"})}),[]),O=(0,r.useCallback)((()=>{w({type:"CLEAR_RESULTS"})}),[]),k=(0,r.useCallback)((e=>{w({type:"SEARCH",args:e})}),[]),S=e=>{w({type:"SET_IS_LOADING",isLoading:e})},T=e=>{w({type:"SET_RESULTS",response:e})},P=(0,r.useCallback)((()=>{if("undefined"===typeof c)return;const{args:e,isOn:t}=R.current,n={args:e,isOn:t};if(window.history.state)if(t){const t=h(e,o,c),r=v(c,t);window.history.pushState(n,document.title,r)}else{const e=v(c);window.history.pushState(n,document.title,e)}else window.history.replaceState(n,document.title,window.location.href)}),[o,c]),N=(0,r.useCallback)((e=>{if("undefined"===typeof c)return;e.state&&Object.keys(e.state).length>0&&(e=>{w({type:"POP_STATE",args:e})})(e.state)}),[c]),x=(0,r.useCallback)((()=>(window.addEventListener("popstate",N),()=>{window.removeEventListener("popstate",N)})),[N]),C=(0,r.useCallback)((()=>{(async()=>{const{args:e,isOn:t,isPoppingState:n}=R.current;if(n||P(),!t)return;const r=h(e,o);S(!0);try{const e=await b(r);if(!e)return;T(e)}catch(e){const t=(0,a.sprintf)((0,a.__)("ElasticPress: Unable to fetch results. %s","elasticpress"),e.message);console.error(t)}S(!1)})()}),[o,b,P]);(0,r.useEffect)(x,[x]),(0,r.useEffect)(C,[C,E.args,E.args.orderby,E.args.order,E.args.offset,E.args.search]);const{aggregations:D,args:F,isLoading:M,isOn:I,searchResults:L,searchTerm:A,totalResults:j,suggestedTerms:U,isFirstSearch:B}=R.current,K={aggregations:D,args:F,clearConstraints:_,clearResults:O,getUrlParamsFromArgs:h,getUrlWithParams:v,isLoading:M,isOn:I,searchResults:L,searchTerm:A,search:k,searchFor:e=>{w({type:"SEARCH_FOR",searchTerm:e})},setResults:T,nextPage:()=>{w({type:"NEXT_PAGE"})},previousPage:()=>{w({type:"PREVIOUS_PAGE"})},totalResults:j,turnOff:()=>{w({type:"TURN_OFF"})},suggestedTerms:U,isFirstSearch:B};return React.createElement(y.Provider,{value:K},i)},w=()=>(0,r.useContext)(y),{apiEndpoint:R,apiHost:_,argsSchema:O,currencyCode:k,facets:S,isWooCommerce:T,locale:P,matchType:N,paramPrefix:x,postTypeLabels:C,taxonomyLabels:D,termCount:F,requestIdBase:M,showSuggestions:I,suggestionsBehavior:L}=window.epInstantResults,A={relevance_desc:{name:(0,a.__)("Most relevant","elasticpress"),orderby:"relevance",order:"desc",currencyCode:k},date_desc:{name:(0,a.__)("Date, newest to oldest","elasticpress"),orderby:"date",order:"desc"},date_asc:{name:(0,a.__)("Date, oldest to newest","elasticpress"),orderby:"date",order:"asc"}};T&&(A.price_desc={name:(0,a.__)("Price, highest to lowest","elasticpress"),orderby:"price",order:"desc"},A.price_asc={name:(0,a.__)("Price, lowest to highest","elasticpress"),orderby:"price",order:"asc"});const j=(e,t)=>new Intl.NumberFormat(navigator.language,{style:"currency",currencyDisplay:"narrowSymbol",...t}).format(e);var U=n(4708);var B=(0,r.forwardRef)((function({icon:e,size:t=24,...n},a){return(0,r.cloneElement)(e,{width:t,height:t,...n,ref:a})})),K=window.wp.primitives,z=n(4848);var G=(0,z.jsx)(K.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,z.jsx)(K.Path,{d:"M12 13.06l3.712 3.713 1.061-1.06L13.061 12l3.712-3.712-1.06-1.06L12 10.938 8.288 7.227l-1.061 1.06L10.939 12l-3.712 3.712 1.06 1.061L12 13.061z"})});function $(){return $=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},$.apply(null,arguments)}var V=({children:e,isOpen:t,onClose:n,...s})=>{const o=(0,r.useRef)(null),i=(0,r.useCallback)((e=>{"Escape"!==e.key&&"Esc"!==e.key||n()}),[n]);return(0,r.useEffect)((()=>(document.body.addEventListener("keydown",i),()=>{document.body.removeEventListener("keydown",i)})),[i]),(0,r.useEffect)((()=>{t?(document.body.classList.add("has-ep-search-modal"),o.current.focus()):document.body.classList.remove("has-ep-search-modal")}),[t]),React.createElement("div",$({"aria-hidden":!t,"aria-modal":"true",className:"ep-search-modal",role:"dialog"},s),t&&React.createElement(U.FocusTrap,{focusTrapOptions:{allowOutsideClick:!0}},React.createElement("div",{className:"ep-search-modal__content"},React.createElement("button",{className:"ep-search-modal__close ep-search-reset-button ep-search-icon-button",type:"button",onClick:n,ref:o},React.createElement(B,{icon:G}),(0,a.__)("Close","elasticpress")),e)))};function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(null,arguments)}var q=({count:e,disabled:t,id:n,label:r,onChange:a,...s})=>React.createElement("div",{className:"ep-search-checkbox"},React.createElement("input",H({"aria-disabled":t,className:"ep-search-checkbox__input",id:n,onChange:e=>{t||a(e)},type:"checkbox"},s))," ",React.createElement("label",{className:"ep-search-checkbox__label",htmlFor:n},r," ",e&&React.createElement("span",{className:"ep-search-checkbox__count"},e)));function W(){return W=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},W.apply(null,arguments)}var X=({children:e,className:t,...n})=>React.createElement("button",W({className:`ep-search-small-button ${t}`,type:"button"},n),e),Y=({disabled:e,label:t,locale:n,options:s,onChange:o,selected:i,sortBy:c})=>{const l=(0,r.useRef)(null),[u,p]=(0,r.useState)(!1),d=s.reduce(((e,{parent:t,...n})=>(0!=t&&(e[t]=e[t]||[],e[t].push(n)),e)),{}),f=s.reduce(((e,{parent:t,...n})=>(0!=t&&"0"!==t||e.push(n),e)),[]),h=s.length>8?5:8;let m=0;const v=e=>{const{checked:t,value:n}=e.target;let r=t?[...i,n]:i.filter((e=>e!==n));r=r.filter((e=>s.some((t=>t.value===e)))),o(r)},b=({count:t,id:n,label:a,value:s})=>{const o=d[s],c="1"===F?t:"";if(!u&&m>=h)return React.createElement(r.Fragment,{key:s});const l=React.createElement("li",{className:"ep-search-options-list__item",key:s},React.createElement(q,{checked:i.includes(s),count:c,disabled:e,id:n,label:a,onChange:v,value:s}),o&&(u||m<h)&&React.createElement("ul",{className:"ep-search-options-list ep-search-options-list__sub-menu"},y(o)));return m++,l},g=(e,t)=>{let r=0;return"count"===c&&(r=t.count-e.count),"name"!==c&&0!==r||(r=e.label.localeCompare(t.label,n)),r},y=e=>e.splice(0).sort(g).map(b);return React.createElement(React.Fragment,null,s.length>0&&React.createElement("ul",{"aria-label":t,className:"ep-search-options-list",ref:l,tabIndex:"-1"},y(f),Object.values(d).map(y)),s.length>h&&React.createElement(X,{"aria-expanded":u,disabled:e,onClick:()=>{p(!u),l.current.focus()}},u?(0,a.__)("Show fewer options","elasticpress"):(0,a.sprintf)((0,a._n)("Show %d more option","Show %d more options",s.length-h,"elasticpress"),s.length-h)))};var J=(0,z.jsx)(K.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,z.jsx)(K.Path,{d:"M6.5 12.4L12 8l5.5 4.4-.9 1.2L12 10l-4.5 3.6-1-1.2z"})});var Q=(0,z.jsx)(K.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,z.jsx)(K.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})}),Z=({children:e,defaultIsOpen:t,label:n})=>{const[a,s]=(0,r.useState)(t);return React.createElement("div",{className:"ep-search-panel"},React.createElement("h3",{className:"ep-search-panel__heading"},React.createElement("button",{"aria-expanded":a,className:"ep-search-panel__button ep-search-reset-button ep-search-icon-button",onClick:()=>{s(!a)},type:"button"},n,React.createElement(B,{icon:a?J:Q}))),React.createElement("div",{"aria-hidden":!a,className:"ep-search-panel__content"},e(a)))};const ee=(0,r.createRef)(),te=({label:e,onClick:t})=>ee.current?(0,r.createPortal)(React.createElement(X,{"aria-label":(0,a.sprintf)((0,a.__)("Remove filter: %s","elasticpress"),e),className:"ep-search-icon-button",onClick:t},React.createElement(B,{icon:G}),e),ee.current):null;var ne=()=>React.createElement("div",{className:"ep-search-tokens",ref:ee}),re=({defaultIsOpen:e,label:t})=>{const{aggregations:{post_type:{post_type:{buckets:n=[]}={}}={}},args:{post_type:s=[]},isLoading:o,search:i}=w(),c=(0,r.useCallback)(((e,{doc_count:t,key:n},r)=>Object.prototype.hasOwnProperty.call(C,n)?(e.push({checked:s.includes(n),count:t,id:`ep-search-post-type-${n}`,label:C[n].singular,order:r,value:n}),e):e),[s]),l=(0,r.useMemo)((()=>n.reduce(c,[])),[n,c]),u=e=>{i({post_type:e})};return l.length>0&&React.createElement(Z,{defaultIsOpen:e,label:t},(()=>React.createElement(React.Fragment,null,React.createElement(Y,{disabled:o,label:(0,a.__)("Select content type","elasticpress"),options:l,onChange:u,selected:s}),s.map((e=>React.createElement(te,{key:e,label:C[e].singular,onClick:()=>(e=>{const t=[...s],n=t.indexOf(e);t.splice(n,1),i({post_type:t})})(e)}))))))};function ae(e,t){return ae=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},ae(e,t)}var se=n(1609);function oe(e){return e&&e.stopPropagation&&e.stopPropagation(),e&&e.preventDefault&&e.preventDefault(),!1}function ie(e){return null==e?[]:Array.isArray(e)?e.slice():[e]}function ce(e){return null!==e&&1===e.length?e[0]:e.slice()}function le(e){Object.keys(e).forEach((t=>{"undefined"!=typeof document&&document.addEventListener(t,e[t],!1)}))}function ue(e,t){return pe(function(e,t){let n=e;return n<=t.min&&(n=t.min),n>=t.max&&(n=t.max),n}(e,t),t)}function pe(e,t){const n=(e-t.min)%t.step;let r=e-n;return 2*Math.abs(n)>=t.step&&(r+=n>0?t.step:-t.step),parseFloat(r.toFixed(5))}let de=function(e){function t(t){var n;(n=e.call(this,t)||this).onKeyUp=()=>{n.onEnd()},n.onMouseUp=()=>{n.onEnd(n.getMouseEventMap())},n.onTouchEnd=e=>{e.preventDefault(),n.onEnd(n.getTouchEventMap())},n.onBlur=()=>{n.setState({index:-1},n.onEnd(n.getKeyDownEventMap()))},n.onMouseMove=e=>{n.setState({pending:!0});const t=n.getMousePosition(e),r=n.getDiffPosition(t[0]),a=n.getValueFromPosition(r);n.move(a)},n.onTouchMove=e=>{if(e.touches.length>1)return;n.setState({pending:!0});const t=n.getTouchPosition(e);if(void 0===n.isScrolling){const e=t[0]-n.startPosition[0],r=t[1]-n.startPosition[1];n.isScrolling=Math.abs(r)>Math.abs(e)}if(n.isScrolling)return void n.setState({index:-1});const r=n.getDiffPosition(t[0]),a=n.getValueFromPosition(r);n.move(a)},n.onKeyDown=e=>{if(!(e.ctrlKey||e.shiftKey||e.altKey||e.metaKey))switch(n.setState({pending:!0}),e.key){case"ArrowLeft":case"ArrowDown":case"Left":case"Down":e.preventDefault(),n.moveDownByStep();break;case"ArrowRight":case"ArrowUp":case"Right":case"Up":e.preventDefault(),n.moveUpByStep();break;case"Home":e.preventDefault(),n.move(n.props.min);break;case"End":e.preventDefault(),n.move(n.props.max);break;case"PageDown":e.preventDefault(),n.moveDownByStep(n.props.pageFn(n.props.step));break;case"PageUp":e.preventDefault(),n.moveUpByStep(n.props.pageFn(n.props.step))}},n.onSliderMouseDown=e=>{if(!n.props.disabled&&2!==e.button){if(n.setState({pending:!0}),!n.props.snapDragDisabled){const t=n.getMousePosition(e);n.forceValueFromPosition(t[0],(e=>{n.start(e,t[0]),le(n.getMouseEventMap())}))}oe(e)}},n.onSliderClick=e=>{if(!n.props.disabled&&n.props.onSliderClick&&!n.hasMoved){const t=n.getMousePosition(e),r=ue(n.calcValue(n.calcOffsetFromPosition(t[0])),n.props);n.props.onSliderClick(r)}},n.createOnKeyDown=e=>t=>{n.props.disabled||(n.start(e),le(n.getKeyDownEventMap()),oe(t))},n.createOnMouseDown=e=>t=>{if(n.props.disabled||2===t.button)return;n.setState({pending:!0});const r=n.getMousePosition(t);n.start(e,r[0]),le(n.getMouseEventMap()),oe(t)},n.createOnTouchStart=e=>t=>{if(n.props.disabled||t.touches.length>1)return;n.setState({pending:!0});const r=n.getTouchPosition(t);n.startPosition=r,n.isScrolling=void 0,n.start(e,r[0]),le(n.getTouchEventMap()),function(e){e.stopPropagation&&e.stopPropagation()}(t)},n.handleResize=()=>{const e=window.setTimeout((()=>{n.pendingResizeTimeouts.shift(),n.resize()}),0);n.pendingResizeTimeouts.push(e)},n.renderThumb=(e,t)=>{const r=n.props.thumbClassName+" "+n.props.thumbClassName+"-"+t+" "+(n.state.index===t?n.props.thumbActiveClassName:""),a={ref:e=>{n["thumb"+t]=e},key:n.props.thumbClassName+"-"+t,className:r,style:e,onMouseDown:n.createOnMouseDown(t),onTouchStart:n.createOnTouchStart(t),onFocus:n.createOnKeyDown(t),tabIndex:0,role:"slider","aria-orientation":n.props.orientation,"aria-valuenow":n.state.value[t],"aria-valuemin":n.props.min,"aria-valuemax":n.props.max,"aria-label":Array.isArray(n.props.ariaLabel)?n.props.ariaLabel[t]:n.props.ariaLabel,"aria-labelledby":Array.isArray(n.props.ariaLabelledby)?n.props.ariaLabelledby[t]:n.props.ariaLabelledby,"aria-disabled":n.props.disabled},s={index:t,value:ce(n.state.value),valueNow:n.state.value[t]};return n.props.ariaValuetext&&(a["aria-valuetext"]="string"==typeof n.props.ariaValuetext?n.props.ariaValuetext:n.props.ariaValuetext(s)),n.props.renderThumb(a,s)},n.renderTrack=(e,t,r)=>{const a={key:n.props.trackClassName+"-"+e,className:n.props.trackClassName+" "+n.props.trackClassName+"-"+e,style:n.buildTrackStyle(t,n.state.upperBound-r)},s={index:e,value:ce(n.state.value)};return n.props.renderTrack(a,s)};let r=ie(t.value);r.length||(r=ie(t.defaultValue)),n.pendingResizeTimeouts=[];const a=[];for(let e=0;e<r.length;e+=1)r[e]=ue(r[e],t),a.push(e);return n.resizeObserver=null,n.resizeElementRef=se.createRef(),n.state={index:-1,upperBound:0,sliderLength:0,value:r,zIndices:a},n}!function(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,ae(e,t)}(t,e);var n=t.prototype;return n.componentDidMount=function(){"undefined"!=typeof window&&(this.resizeObserver=new ResizeObserver(this.handleResize),this.resizeObserver.observe(this.resizeElementRef.current),this.resize())},t.getDerivedStateFromProps=function(e,t){const n=ie(e.value);return n.length?t.pending?null:{value:n.map((t=>ue(t,e)))}:null},n.componentDidUpdate=function(){0===this.state.upperBound&&this.resize()},n.componentWillUnmount=function(){this.clearPendingResizeTimeouts(),this.resizeObserver&&this.resizeObserver.disconnect()},n.onEnd=function(e){e&&function(e){Object.keys(e).forEach((t=>{"undefined"!=typeof document&&document.removeEventListener(t,e[t],!1)}))}(e),this.hasMoved&&this.fireChangeEvent("onAfterChange"),this.setState({pending:!1}),this.hasMoved=!1},n.getValue=function(){return ce(this.state.value)},n.getClosestIndex=function(e){let t=Number.MAX_VALUE,n=-1;const{value:r}=this.state,a=r.length;for(let s=0;s<a;s+=1){const a=this.calcOffset(r[s]),o=Math.abs(e-a);o<t&&(t=o,n=s)}return n},n.getMousePosition=function(e){return[e["page"+this.axisKey()],e["page"+this.orthogonalAxisKey()]]},n.getTouchPosition=function(e){const t=e.touches[0];return[t["page"+this.axisKey()],t["page"+this.orthogonalAxisKey()]]},n.getKeyDownEventMap=function(){return{keydown:this.onKeyDown,keyup:this.onKeyUp,focusout:this.onBlur}},n.getMouseEventMap=function(){return{mousemove:this.onMouseMove,mouseup:this.onMouseUp}},n.getTouchEventMap=function(){return{touchmove:this.onTouchMove,touchend:this.onTouchEnd}},n.getValueFromPosition=function(e){const t=e/(this.state.sliderLength-this.state.thumbSize)*(this.props.max-this.props.min);return ue(this.state.startValue+t,this.props)},n.getDiffPosition=function(e){let t=e-this.state.startPosition;return this.props.invert&&(t*=-1),t},n.resize=function(){const{slider:e,thumb0:t}=this;if(!e||!t)return;const n=this.sizeKey(),r=e.getBoundingClientRect(),a=e[n],s=r[this.posMaxKey()],o=r[this.posMinKey()],i=t.getBoundingClientRect()[n.replace("client","").toLowerCase()],c=a-i,l=Math.abs(s-o);this.state.upperBound===c&&this.state.sliderLength===l&&this.state.thumbSize===i||this.setState({upperBound:c,sliderLength:l,thumbSize:i})},n.calcOffset=function(e){const t=this.props.max-this.props.min;return 0===t?0:(e-this.props.min)/t*this.state.upperBound},n.calcValue=function(e){return e/this.state.upperBound*(this.props.max-this.props.min)+this.props.min},n.calcOffsetFromPosition=function(e){const{slider:t}=this,n=t.getBoundingClientRect(),r=n[this.posMaxKey()],a=n[this.posMinKey()];let s=e-(window["page"+this.axisKey()+"Offset"]+(this.props.invert?r:a));return this.props.invert&&(s=this.state.sliderLength-s),s-=this.state.thumbSize/2,s},n.forceValueFromPosition=function(e,t){const n=this.calcOffsetFromPosition(e),r=this.getClosestIndex(n),a=ue(this.calcValue(n),this.props),s=this.state.value.slice();s[r]=a;for(let e=0;e<s.length-1;e+=1)if(s[e+1]-s[e]<this.props.minDistance)return;this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0,this.setState({value:s},(()=>{t(r),this.fireChangeEvent("onChange")}))},n.clearPendingResizeTimeouts=function(){do{const e=this.pendingResizeTimeouts.shift();clearTimeout(e)}while(this.pendingResizeTimeouts.length)},n.start=function(e,t){const n=this["thumb"+e];n&&n.focus();const{zIndices:r}=this.state;r.splice(r.indexOf(e),1),r.push(e),this.setState((n=>({startValue:n.value[e],startPosition:void 0!==t?t:n.startPosition,index:e,zIndices:r})))},n.moveUpByStep=function(e){void 0===e&&(e=this.props.step);const t=this.state.value[this.state.index],n=ue(this.props.invert&&"horizontal"===this.props.orientation?t-e:t+e,this.props);this.move(Math.min(n,this.props.max))},n.moveDownByStep=function(e){void 0===e&&(e=this.props.step);const t=this.state.value[this.state.index],n=ue(this.props.invert&&"horizontal"===this.props.orientation?t+e:t-e,this.props);this.move(Math.max(n,this.props.min))},n.move=function(e){const t=this.state.value.slice(),{index:n}=this.state,{length:r}=t,a=t[n];if(e===a)return;this.hasMoved||this.fireChangeEvent("onBeforeChange"),this.hasMoved=!0;const{pearling:s,max:o,min:i,minDistance:c}=this.props;if(!s){if(n>0){const r=t[n-1];e<r+c&&(e=r+c)}if(n<r-1){const r=t[n+1];e>r-c&&(e=r-c)}}t[n]=e,s&&r>1&&(e>a?(this.pushSucceeding(t,c,n),function(e,t,n,r){for(let a=0;a<e;a+=1){const s=r-a*n;t[e-1-a]>s&&(t[e-1-a]=s)}}(r,t,c,o)):e<a&&(this.pushPreceding(t,c,n),function(e,t,n,r){for(let a=0;a<e;a+=1){const e=r+a*n;t[a]<e&&(t[a]=e)}}(r,t,c,i))),this.setState({value:t},this.fireChangeEvent.bind(this,"onChange"))},n.pushSucceeding=function(e,t,n){let r,a;for(r=n,a=e[r]+t;null!==e[r+1]&&a>e[r+1];r+=1,a=e[r]+t)e[r+1]=pe(a,this.props)},n.pushPreceding=function(e,t,n){for(let r=n,a=e[r]-t;null!==e[r-1]&&a<e[r-1];r-=1,a=e[r]-t)e[r-1]=pe(a,this.props)},n.axisKey=function(){return"vertical"===this.props.orientation?"Y":"X"},n.orthogonalAxisKey=function(){return"vertical"===this.props.orientation?"X":"Y"},n.posMinKey=function(){return"vertical"===this.props.orientation?this.props.invert?"bottom":"top":this.props.invert?"right":"left"},n.posMaxKey=function(){return"vertical"===this.props.orientation?this.props.invert?"top":"bottom":this.props.invert?"left":"right"},n.sizeKey=function(){return"vertical"===this.props.orientation?"clientHeight":"clientWidth"},n.fireChangeEvent=function(e){this.props[e]&&this.props[e](ce(this.state.value),this.state.index)},n.buildThumbStyle=function(e,t){const n={position:"absolute",touchAction:"none",willChange:this.state.index>=0?this.posMinKey():void 0,zIndex:this.state.zIndices.indexOf(t)+1};return n[this.posMinKey()]=e+"px",n},n.buildTrackStyle=function(e,t){const n={position:"absolute",willChange:this.state.index>=0?this.posMinKey()+","+this.posMaxKey():void 0};return n[this.posMinKey()]=e,n[this.posMaxKey()]=t,n},n.buildMarkStyle=function(e){var t;return(t={position:"absolute"})[this.posMinKey()]=e,t},n.renderThumbs=function(e){const{length:t}=e,n=[];for(let r=0;r<t;r+=1)n[r]=this.buildThumbStyle(e[r],r);const r=[];for(let e=0;e<t;e+=1)r[e]=this.renderThumb(n[e],e);return r},n.renderTracks=function(e){const t=[],n=e.length-1;t.push(this.renderTrack(0,0,e[0]));for(let r=0;r<n;r+=1)t.push(this.renderTrack(r+1,e[r],e[r+1]));return t.push(this.renderTrack(n+1,e[n],this.state.upperBound)),t},n.renderMarks=function(){let{marks:e}=this.props;const t=this.props.max-this.props.min+1;return"boolean"==typeof e?e=Array.from({length:t}).map(((e,t)=>t)):"number"==typeof e&&(e=Array.from({length:t}).map(((e,t)=>t)).filter((t=>t%e==0))),e.map(parseFloat).sort(((e,t)=>e-t)).map((e=>{const t=this.calcOffset(e),n={key:e,className:this.props.markClassName,style:this.buildMarkStyle(t)};return this.props.renderMark(n)}))},n.render=function(){const e=[],{value:t}=this.state,n=t.length;for(let r=0;r<n;r+=1)e[r]=this.calcOffset(t[r],r);const r=this.props.withTracks?this.renderTracks(e):null,a=this.renderThumbs(e),s=this.props.marks?this.renderMarks():null;return se.createElement("div",{ref:e=>{this.slider=e,this.resizeElementRef.current=e},style:{position:"relative"},className:this.props.className+(this.props.disabled?" disabled":""),onMouseDown:this.onSliderMouseDown,onClick:this.onSliderClick},r,a,s)},t}(se.Component);de.displayName="ReactSlider",de.defaultProps={min:0,max:100,step:1,pageFn:e=>10*e,minDistance:0,defaultValue:0,orientation:"horizontal",className:"slider",thumbClassName:"thumb",thumbActiveClassName:"active",trackClassName:"track",markClassName:"mark",withTracks:!0,pearling:!1,disabled:!1,snapDragDisabled:!1,invert:!1,marks:[],renderThumb:e=>se.createElement("div",e),renderTrack:e=>se.createElement("div",e),renderMark:e=>se.createElement("span",e)};var fe=de;function he(){return he=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},he.apply(null,arguments)}var me=({...e})=>React.createElement(fe,he({className:"ep-search-range-slider",minDistance:1,thumbActiveClassName:"ep-search-range-slider__thumb--active",thumbClassName:"ep-search-range-slider__thumb",trackClassName:"ep-search-range-slider__track"},e)),ve=({defaultIsOpen:e,label:t})=>{const{aggregations:{price_range:{max_price:{value:n=null}={},min_price:{value:s=null}={}}={}},args:{max_price:o=null,min_price:i=null},isLoading:c,search:l}=w(),u=Math.ceil(n),p=Math.floor(s),[d,f]=(0,r.useState)(0),[h,m]=(0,r.useState)(0),v=j(d,{maximumFractionDigits:0,currency:k}),b=j(h,{maximumFractionDigits:0,currency:k}),g=o||u,y=i||p,E=j(g,{maximumFractionDigits:0,currency:k}),R=j(y,{maximumFractionDigits:0,currency:k}),_=e=>{const[t,n]=e;l({min_price:t,max_price:n})},O=([e,t])=>{m(e),f(t)},S=()=>{l({max_price:null,min_price:null})};return(0,r.useLayoutEffect)((()=>{const e=Math.min(u,g),t=Math.max(p,y);f(e),m(t)}),[p,u,y,g]),null!==n&&null!==s&&React.createElement(Z,{defaultIsOpen:e,label:t},(e=>React.createElement(React.Fragment,null,React.createElement("div",{className:"ep-search-price-facet"},React.createElement("div",{className:"ep-search-price-facet__slider"},e&&React.createElement(me,{disabled:c,max:u,min:p,onAfterChange:_,onChange:O,value:[h,d]})),React.createElement("div",{className:"ep-search-price-facet__values"},b,"  ",v)),null!==o&&null!==i&&React.createElement(te,{label:(0,a.sprintf)((0,a._x)("%1$s  %2$s","Price range","elasticpress"),R,E),onClick:S}))))},be=window.wp.htmlEntities,ge=({defaultIsOpen:e,label:t,postTypes:n,name:o})=>{const{aggregations:{[o]:{[o]:{buckets:i=[]}={}}={}}={},args:{[o]:c=[]},isLoading:l,search:u}=w(),p=(0,r.useMemo)((()=>{const e=S.some((e=>e.label===t&&e.name!==o)),r=n.map((e=>C[e].plural)),s=(0,a.__)(", ","elasticpress");return e?(0,a.sprintf)((0,a.__)("%1$s (%2$s)","elasticpress"),t,r.join(s)):t}),[t,n,o]),d=(0,r.useCallback)(((e,{doc_count:t,key:n})=>{const{name:r,parent:a,term_id:s,term_order:i}=JSON.parse(n);return e.push({checked:c.includes(s),count:t,id:`ep-search-${o}-${s}`,label:(0,be.decodeEntities)(r),parent:a.toString(),order:i,value:s.toString()}),e}),[c,o]),f=(0,r.useMemo)((()=>(0,s.applyFilters)("ep.InstantResults.filter.taxonomy.terms",i.reduce(d,[]),o,n)),[i,d,o,n]),h=(0,r.useCallback)(((e,{label:t,value:n})=>(e[n]=t,e)),[]),m=f.reduce(h,{}),v=e=>{u({[o]:e})};return f.length>0&&React.createElement(Z,{defaultIsOpen:e,label:p},(e=>React.createElement(React.Fragment,null,e&&React.createElement(Y,{disabled:l,label:(0,a.sprintf)((0,a.__)("Select %s","elasticpress"),t),options:f,onChange:v,selected:c}),c.map((e=>m?.[e]&&React.createElement(te,{key:e,label:m[e],onClick:()=>(e=>{const t=[...c];t.splice(t.indexOf(e),1),u({[o]:t})})(e)}))))))},ye=({index:e,label:t,name:n,postTypes:r,type:a})=>{const s=e<2;switch(a){case"post_type":return React.createElement(re,{defaultIsOpen:s,label:t});case"price_range":return React.createElement(ve,{defaultIsOpen:s,label:t});case"taxonomy":return React.createElement(ge,{defaultIsOpen:s,label:t,name:n,postTypes:r});default:return null}};var Ee=()=>{const{args:e,searchFor:t,searchTerm:n}=w(),[s,o]=(0,r.useState)(e.search),i=((e,t)=>{const n=(0,r.useRef)(null);return(0,r.useCallback)(((...r)=>{window.clearTimeout(n.current),n.current=window.setTimeout((()=>{e(...r)}),t)}),[e,t])})((e=>{t(e)}),300);return(0,r.useEffect)((()=>{o(e.search)}),[e.search]),React.createElement(React.Fragment,null,React.createElement("input",{className:"ep-search-input",placeholder:(0,a.__)("Search","elasticpress"),type:"search",value:s,onChange:e=>{o(e.target.value),i(e.target.value)}}),n&&React.createElement(te,{label:(0,a.sprintf)((0,a.__)("%s","elasticpress"),n),onClick:()=>{t("")}}))},we=({offset:e,onNext:t,onPrevious:n,perPage:r,total:s})=>{const o=(e+r)/r,i=s>e+r,c=e>0,l=Math.ceil(s/r);return React.createElement("nav",{className:"ep-search-pagination"},React.createElement("div",{className:"ep-search-pagination__previous"},React.createElement("button",{className:"ep-search-pagination-button ep-search-pagination-button--previous",disabled:!c,onClick:n,type:"button"},(0,a.__)("Previous","elasticpress"))),React.createElement("div",{className:"ep-search-pagination__count",role:"status"},s>0&&(0,a.sprintf)((0,a.__)("Page %1$d of %2$d","elasticpress"),o,l)),React.createElement("div",{className:"ep-search-pagination__next"},React.createElement("button",{className:"ep-search-pagination-button ep-search-pagination-button--next",disabled:!i,onClick:t,type:"button"},(0,a.__)("Next","elasticpress"))))},Re=({rating:e})=>{const t=(0,a.sprintf)((0,a.__)("Rated %1$f out of %2$d","elasticpress"),e,5);return React.createElement("div",{className:"woocommerce"},React.createElement("div",{"aria-label":t,className:"star-rating",role:"img"},React.createElement("span",{style:{width:e/5*100+"%"}},t)))};function _e(){return _e=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},_e.apply(null,arguments)}var Oe=({alt:e,height:t,ID:n,src:r,width:a,...s})=>React.createElement("img",_e({alt:e,src:r,width:a,height:t},s));var ke=(0,s.applyFilters)("ep.InstantResults.Result",(({averageRating:e=0,date:t,excerpt:n,priceHtml:r,thumbnail:a,title:s,type:o,url:i})=>React.createElement("article",{className:`ep-search-result ${a?"ep-search-result--has-thumbnail":null}`},a&&React.createElement("a",{className:"ep-search-result__thumbnail",href:i},React.createElement(Oe,a)),React.createElement("header",{className:"ep-search-result__header"},o?React.createElement("span",{className:"ep-search-result__type"},o):null,React.createElement("h2",{className:"ep-search-result__title"},React.createElement("a",{href:i,dangerouslySetInnerHTML:{__html:s}})),r?React.createElement("p",{className:"price",dangerouslySetInnerHTML:{__html:r}}):null),n.length>0?React.createElement("p",{className:"ep-search-result__description",dangerouslySetInnerHTML:{__html:n}}):null,React.createElement("footer",{className:"ep-search-result__footer"},e>0?React.createElement(Re,{rating:e}):null,t)))),Se=({hit:e,searchTerm:t,highlightTag:n})=>{const{highlight:{post_content_plain:r=[]},_source:{meta:{_wc_average_rating:[{value:a}={}]=[]},permalink:s,post_date:o,post_id:i,post_type:c,price_html:l,thumbnail:u}}=e,p=new RegExp(`\\b(${d(t)})`,"gi");let f;f=""===n||void 0===n?e._source.post_title:e._source.post_title.replace(p,(e=>`<${n}>${e}</${n}>`));const h="post"===c?((e,t)=>new Date(e).toLocaleString(t,{dateStyle:"long"}))(o):null,m=r.join(""),v=C[c]?.singular;return React.createElement(ke,{averageRating:a,date:h,hit:e,excerpt:m,id:i,priceHtml:l,thumbnail:u,title:f,type:v,url:s})},Te=()=>{const{args:{orderby:e,order:t},search:n}=w(),s=(0,r.useMemo)((()=>Object.keys(A).find((n=>A[n].orderby===e&&A[n].order===t))),[e,t]);return React.createElement("label",{className:"ep-search-sort",htmlFor:"ep-sort"},React.createElement("span",{className:"ep-search-sort__label"},(0,a.__)("Sort by","elasticpress"))," ",React.createElement("select",{className:"ep-search-sort__options",id:"ep-sort",onChange:e=>{const{orderby:t,order:r}=A[e.target.value];n({orderby:t,order:r})},value:s},Object.entries(A).map((([e,{name:t}])=>React.createElement("option",{key:e,value:e},t)))))},Pe=e=>{const{suggestedTerms:t,searchFor:n,totalResults:s}=e,o=e=>{n(e)},i=t.slice(1);return React.createElement(React.Fragment,null,I&&t&&t?.[0]?.text&&React.createElement("div",{className:"ep-search-suggestion"},React.createElement("p",null,(0,r.createInterpolateElement)((0,a.sprintf)((0,a.__)("Did you mean: <a>%s</a>","elasticpress"),t?.[0]?.text),{a:React.createElement("a",{href:"#",onClick:()=>o(t?.[0]?.text)})}))),I&&"list"===L&&0===s&&i.length>0&&React.createElement("div",null,React.createElement("p",null,(0,a.__)("Other suggestions","elasticpress")),React.createElement("ul",null,i.map((e=>React.createElement("li",{key:e.text},React.createElement("a",{href:"#",onClick:()=>o(e.text)},e.text)))))))},Ne=()=>{const{args:{offset:e,per_page:t,highlight:n},nextPage:s,previousPage:o,searchResults:i,searchTerm:c,totalResults:l,searchFor:u,suggestedTerms:p,isFirstSearch:d}=w(),f=(0,r.useRef)();(0,r.useEffect)((()=>{f.current.scrollIntoView({behavior:"smooth"})}),[e]);return React.createElement("div",{className:"ep-search-results"},React.createElement("header",{className:"ep-search-results__header"},React.createElement("h1",{className:"ep-search-results__title",ref:f,role:"status"},d?(0,a.sprintf)((0,a.__)("Loading results","elasticpress")):c?(0,a.sprintf)((0,a._n)("%1$d result for %2$s","%1$d results for %2$s",l,"elasticpress"),l,c):(0,a.sprintf)((0,a._n)("%d result","%d results",l,"elasticpress"),l)),React.createElement(Te,null)),React.createElement(Pe,{searchFor:u,suggestedTerms:p,totalResults:l}),i.map((e=>React.createElement(Se,{key:e._id,hit:e,searchTerm:c,highlightTag:n}))),React.createElement(we,{offset:e,onNext:()=>{s()},onPrevious:()=>{o()},perPage:t,total:l}))},xe=({children:e,isOpen:t})=>React.createElement("aside",{className:"ep-search-sidebar "+(t?"is-open":"")},e),Ce=({children:e})=>React.createElement("div",{className:"ep-search-toolbar"},e),De=()=>{const{args:e,clearConstraints:t}=w();return(0,r.useMemo)((()=>S.some((({name:t,type:n})=>{switch(n){case"post_type":case"taxonomy":return e[t]?.length>0;case"price_range":return e.max_price||e.min_price;default:return e[t]}}))),[e])&&React.createElement(X,{onClick:()=>{t()}},(0,a.__)("Clear filters","elasticpress"))},Fe=({isOpen:e,onClick:t})=>React.createElement("button",{"aria-expanded":e,className:"ep-search-sidebar-toggle ep-search-icon-button",onClick:t,type:"button"},e?(0,a.__)("Close filters","elasticpress"):(0,a.__)("All filters","elasticpress"),React.createElement(B,{icon:e?J:Q})),Me=()=>{const{isLoading:e}=w(),[t,n]=(0,r.useState)(!1);return React.createElement("div",{className:"ep-search-page "+(e?"is-loading":"")},React.createElement("div",{className:"ep-search-page__header"},React.createElement(Ee,null),React.createElement(Ce,null,React.createElement(ne,null),React.createElement(De,null),React.createElement(Fe,{isOpen:t,onClick:()=>{n(!t)}}))),React.createElement("div",{className:"ep-search-page__body"},React.createElement(xe,{isOpen:t},React.createElement(Te,null),S.map((({label:e,name:t,postTypes:n,type:r},a)=>React.createElement(ye,{index:a,key:t,label:e,name:t,postTypes:n,type:r})))),React.createElement(Ne,null)))},Ie=()=>{const{turnOff:e,isOn:t,search:n}=w(),s=(0,r.useRef)(),o=(0,r.useCallback)((()=>{e(),s.current&&s.current.focus()}),[e]),i=(0,r.useCallback)((e=>{e.preventDefault(),s.current=e.target.s;if(s.current.getAttribute("aria-activedescendant"))return;const{value:t}=s.current,r=(e=>{const t=new FormData(e);return t.has("post_type")?t.getAll("post_type").slice(-1):t.has("post_type[]")?t.getAll("post_type[]"):[]})(s.current.form),a=!S.some((e=>"post_type"===e.name));n({post_type:r,search:t,updateDefaults:a})}),[s,n]);return(0,r.useEffect)((()=>{const e=document.querySelectorAll('form input[name="s"]');return e.forEach((e=>{e.form.addEventListener("submit",i)})),window.epInstantResults.openModal=n,()=>{e.forEach((e=>{e.form.removeEventListener("submit",i)})),delete window.epInstantResults.openModal}}),[i,n]),React.createElement(V,{"aria-label":(0,a.__)("Search results","elasticpress"),isOpen:t,onClose:o},React.createElement(Me,null))};window.addEventListener("DOMContentLoaded",(()=>{const e=document.getElementById("ep-instant-results");if("function"===typeof r.createRoot){(0,r.createRoot)(e).render(React.createElement(E,{apiEndpoint:R,apiHost:_,argsSchema:O,paramPrefix:x,requestIdBase:M},React.createElement(Ie,null)))}else(0,r.render)(React.createElement(E,{apiEndpoint:R,apiHost:_,argsSchema:O,paramPrefix:x,requestIdBase:M},React.createElement(Ie,null)),e)}))}();